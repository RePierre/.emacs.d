* Initialization
  Inspired by [[https://github.com/rememberYou/.emacs.d/blob/master/config.org][this config]].
** Initialize/update package sources
   #+BEGIN_SRC emacs-lisp
     (add-to-list 'package-archives
		  '("melpa" . "https://melpa.org/packages/"))
     (add-to-list 'package-archives
		  '("org" . "http://orgmode.org/elpa/") t)
   #+END_SRC
** Refresh package contents
   #+BEGIN_SRC emacs-lisp
     (package-refresh-contents)
   #+END_SRC
** Install ~delight~
   #+BEGIN_SRC emacs-lisp
     (unless (package-installed-p 'delight)
       (package-install 'delight))
   #+END_SRC
** Install ~use-package~
   #+BEGIN_SRC emacs-lisp
     (unless (package-installed-p 'use-package)
       (package-install 'use-package))
   #+END_SRC
** Install ~use-package-ensure-system-package~
   #+BEGIN_SRC emacs-lisp
     (use-package use-package-ensure-system-package
       :ensure t)
   #+END_SRC
* Load custom libraries
  #+BEGIN_SRC emacs-lisp
    (add-to-list 'load-path (expand-file-name "lisp" user-emacs-directory))
  #+END_SRC
** Load publication comparison workflow functions
   #+BEGIN_SRC emacs-lisp
     (require 'compare-publications)
   #+END_SRC
* Custom functions
  #+BEGIN_SRC emacs-lisp
    (defun display-line-numbers()
      (linum-mode))
  #+END_SRC
* Basic customization
** Move generated UI code to a separate file
   #+BEGIN_SRC emacs-lisp
     (setq-default custom-file (expand-file-name "custom.el" user-emacs-directory))
     (when (file-exists-p custom-file)
       (load custom-file t))
   #+END_SRC
** Hide the startup message
   #+BEGIN_SRC emacs-lisp
     (setq inhibit-startup-message t)
   #+END_SRC
** Hide the toolbar
   #+BEGIN_SRC emacs-lisp
     (tool-bar-mode -1)
   #+END_SRC
** Hide the scroll bar
   #+BEGIN_SRC emacs-lisp
     (scroll-bar-mode -1)
   #+END_SRC
** Change ~yes or no~ prompts to ~y or n~
   #+BEGIN_SRC emacs-lisp
     (fset 'yes-or-no-p 'y-or-n-p)
   #+END_SRC
** Bind ~F5~ key to ~revert-buffer~
   #+BEGIN_SRC emacs-lisp
     (global-set-key (kbd "<f5>") 'revert-buffer)
   #+END_SRC
** Enable line numbers for various modes
   #+BEGIN_SRC emacs-lisp
     ;; python-mode
     (add-hook 'python-mode-hook 'display-line-numbers)

     ;; emacs-lisp mode
     (add-hook 'emacs-lisp-mode-hook 'display-line-numbers)
   #+END_SRC
** Wrap long lines
   Found on a [[http://stackoverflow.com/a/3282132/844006][StackOverflow answer]].
   #+BEGIN_SRC emacs-lisp
     (global-visual-line-mode t)
   #+END_SRC
** Use ~ibuffer~ for buffer list
   As specified in the [[http://cestlaz.github.io/posts/using-emacs-34-ibuffer-emmet][blog post]] of  Mike Zamansky.
   #+BEGIN_SRC emacs-lisp
     (global-set-key (kbd "C-x C-b") 'ibuffer)
     (setq ibuffer-saved-filter-groups
	   (quote (("default"
		    ("dired" (mode . dired-mode))
		    ("org" (name . "^.*org$"))
		    ("web" (or (mode . web-mode)
			       (mode . js2-mode)))
		    ("shell" (or (mode . eshell-mode)
				 (mode . shell-mode)))
		    ("programming" (or (mode . python-mode)
				       (mode . lisp-mode)
				       (mode . csharp-mode)
				       (mode . js2-mode)))
		    ("doc-view" (mode . doc-view-mode))
		    ("magit" (name . "^magit[:-].*"))
		    ("latex" (or (mode . latex-mode)
				 (mode . bibtex-mode)))
		    ("emacs" (or (name . "^\\*scratch\\*$")
				 (name . "^\\*Messages\\*$")))
		    ("helm" (mode . helm-major-mode))
		    ("powershell" (mode . powershell-mode))
		    ("ledger" (mode . ledger-mode))
		    ("pdf" (mode . pdf-view-mode))))))
     (add-hook 'ibuffer-mode-hook
	       (lambda ()
		 (ibuffer-auto-mode 1)
		 (ibuffer-switch-to-saved-filter-groups "default")))

     ;; Don't show filter groups if there are no buffers in that group
     (setq ibuffer-show-empty-filter-groups nil)
   #+END_SRC
** Replace highlighted text
   From [[https://www.gnu.org/software/emacs/manual/html_node/efaq/Replacing-highlighted-text.html][Emacs manual]]:
   #+BEGIN_SRC emacs-lisp
     (delete-selection-mode 1)
   #+END_SRC
** Save contents of clipboard before killing text
   From [[https://www.reddit.com/r/emacs/comments/30g5wo/the_kill_ring_and_the_clipboard/cpsbbmb/][Reddit comment]]:
   #+BEGIN_SRC emacs-lisp
     (setq save-interprogram-paste-before-kill t)
   #+END_SRC
** Open GTD view
*** Setup ~org-capture~
    #+BEGIN_SRC emacs-lisp
      (setq org-default-notes-file "~/Dropbox/org/notes.org")
      (global-set-key (kbd "C-c c") 'org-capture)
    #+END_SRC
*** Setup ~org-capture-templates~
    #+BEGIN_SRC emacs-lisp
      (setq org-capture-templates
	    '(("t" "Todo [inbox]" entry (file+headline "~/Dropbox/gtd/inbox.org" "Tasks") "* TODO %i%?")
	      ("j" "Journal Entry" entry (file+olp+datetree "~/Dropbox/org/journal.org") "* %?" :empty-lines 1)
	      ("b" "Blog article idea" entry (file+headline "~/Dropbox/org/blogging.org" "Blog articles") "* IDEA %? \n %U")
	      ("T" "Tickler" entry (file+headline "~/Dropbox/gtd/tickler.org" "Tickler") "* %i%? \n %U")))
    #+END_SRC
*** Setup ~org-refile-targets~
    #+BEGIN_SRC emacs-lisp
      (setq org-refile-targets '(("~/Dropbox/gtd/gtd.org" :maxlevel . 3)
				 ("~/Dropbox/gtd/some-day.org" :level . 1)
				 ("~/Dropbox/gtd/tickler.org" :maxlevel . 2)
				 ("~/Dropbox/org/blogging.org" :level . 1)
				 ("~/Dropbox/bibliography/reading-list.org" :maxlevel  . 2)))
    #+END_SRC
   As found in this [[http://members.optusnet.com.au/~charles57/GTD/mydotemacs.txt][emacs init file]]. The full GTD workflow is explained int the [[http://members.optusnet.com.au/~charles57/GTD/gtd_workflow.html][blog post]].
   #+BEGIN_SRC emacs-lisp
     (add-hook 'org-agenda-mode-hook 'hl-line-mode)

     (defun gtd()
       (interactive)
       (progn
         (find-file "~/Dropbox/gtd/gtd.org")
         (org-agenda-list)))

     (global-set-key (kbd "C-c g") 'gtd)
   #+END_SRC
** Remove scratch message
   #+BEGIN_SRC emacs-lisp
     (setq initial-scratch-message "")
   #+END_SRC
** Run shell commands interactively when under Cygwin shell
   As found on [[https://emacs.stackexchange.com/a/10974/14110][StackExchange]]:
   #+BEGIN_SRC emacs-lisp
     (when (eq system-type 'cygwin)
       (setq shell-file-name "bash")
       (setq shell-command-switch "-ic"))
   #+END_SRC
** ~dired~ tweaks
*** Set ~dired-dwim-target~
    #+BEGIN_SRC emacs-lisp
      (setq dired-dwim-target t)
    #+END_SRC
*** Human readable file sizes
    From [[http://pragmaticemacs.com/emacs/dired-human-readable-sizes-and-sort-by-size/][Pragmatic Emacs]].
    #+BEGIN_SRC emacs-lisp
      (setq dired-listing-switches "-alh")
    #+END_SRC
** End sentences with single space
   #+BEGIN_SRC emacs-lisp
     (setq sentence-end-double-space nil)
   #+END_SRC
** Display date and time in mode line
   #+BEGIN_SRC emacs-lisp
     (setq display-time-day-and-date t
           display-time-24hr-format t)
     (display-time-mode 1)
   #+END_SRC
** Turn off the error bell
   #+BEGIN_SRC emacs-lisp
     (setq ring-bell-function 'ignore)
   #+END_SRC
** Delete trailing whitespace on save
   #+BEGIN_SRC emacs-lisp
     (add-hook 'before-save-hook 'delete-trailing-whitespace)
   #+END_SRC
** Expand region around the cursor semantically
   #+BEGIN_SRC emacs-lisp
     (use-package expand-region
       :ensure t
       :bind ("C-=" . er/expand-region))
   #+END_SRC
** Install ~org-bullets~
   #+BEGIN_SRC emacs-lisp
     (use-package org-bullets
       :ensure t
       :config
       (setq org-bullets-bullet-list '("âˆ™"))
       (add-hook 'org-mode-hook 'org-bullets-mode))
   #+END_SRC
** Unbind <C-z>
   #+BEGIN_SRC emacs-lisp
     (global-unset-key (kbd "C-z"))
   #+END_SRC
* Agenda
  #+BEGIN_SRC emacs-lisp
    (setq org-agenda-files
	  (quote ("~/Dropbox/gtd/inbox.org"
		  "~/Dropbox/gtd/gtd.org"
		  "~/Dropbox/gtd/some-day.org"
		  "~/Dropbox/gtd/tickler.org"
		  "~/Dropbox/bibliography/reading-list.org"
		  "~/Dropbox/org/blogging.org")))
    ;; (setq org-agenda-repeating-timestamp-show-all nil)
    (setq org-agenda-skip-deadline-if-done t)
    (setq org-agenda-skip-scheduled-if-done t)
  #+END_SRC
* Themes
  Use ~sanityinc-tomorrow-night~ when not running from console; otherwise fallback to ~wombat~.
  #+BEGIN_SRC emacs-lisp
    (cond ((display-graphic-p)
	   (use-package color-theme-sanityinc-tomorrow
	     :ensure t
	     :config (load-theme 'sanityinc-tomorrow-night t)))
	  (t (load-theme 'wombat t)))
  #+END_SRC
* Load ~org-babel~ languages
  #+BEGIN_SRC emacs-lisp
    (org-babel-do-load-languages
     (quote org-babel-load-languages)
     (quote ((emacs-lisp . t)
	     (dot . t)
	     (python . t)
	     (gnuplot . t)
	     (shell . t)
	     (org . t)
	     (latex . t))))

  #+END_SRC
* Git integration
** Install ~magit~
   #+BEGIN_SRC emacs-lisp
     (use-package magit
       :ensure t
       :defer t
       :bind (("C-x g" . magit-status)))
   #+END_SRC
** Install ~git-timemachine~
   #+BEGIN_SRC emacs-lisp
     (use-package git-timemachine
       :ensure t
       :defer t)
   #+END_SRC
** Install ~git-gutter~
   #+BEGIN_SRC emacs-lisp
     (use-package git-gutter
       :ensure t
       :defer t
       :config
       (global-git-gutter-mode t)
       :diminish git-gutter-mode)
   #+END_SRC
* Install ~helm~
  #+BEGIN_SRC emacs-lisp
    ;; A merge of configuration from Sacha Chua http://pages.sachachua.com/.emacs.d/Sacha.html and
    ;; other various sources
    (use-package helm
      :ensure t
      :diminish helm-mode
      :init
      (progn
	(require 'helm-config)
	(setq helm-candidate-number-limit 100)
	;; From https://gist.github.com/antifuchs/9238468
	(setq helm-idle-delay 0.0 ; update fast sources immediately (doesn't).
	      helm-input-idle-delay 0.01  ; this actually updates things
					    ; reeeelatively quickly.
	      helm-yas-display-key-on-candidate t
	      helm-quick-update t
	      helm-M-x-requires-pattern nil
	      helm-ff-skip-boring-files t)
	;; Configuration from https://gist.github.com/m3adi3c/66be1c484d2443ff835b0c795d121ee4#org3ac3590
	(setq helm-split-window-in-side-p t ; open helm buffer inside current window, not occupy whole other window
	      helm-move-to-line-cycle-in-source t ; move to end or beginning of source when reaching top or bottom of source.
	      helm-ff-search-library-in-sexp t ; search for library in `require' and `declare-function' sexp.
	      helm-scroll-amount 8)	; scroll 8 lines other window using M-<next>/M-<prior>
	(helm-mode)
	(define-key helm-find-files-map (kbd "TAB") 'helm-execute-persistent-action)
	(define-key helm-read-file-map (kbd "TAB") 'helm-execute-persistent-action))
      :bind (("C-c h" . helm-mini)
	     ("C-h a" . helm-apropos)
	     ("C-x b" . helm-buffers-list)
	     ("M-y" . helm-show-kill-ring)
	     ("M-x" . helm-M-x)
	     ("C-x c o" . helm-occur)
	     ("C-x c y" . helm-yas-complete)
	     ("C-x c Y" . helm-yas-create-snippet-on-region)
	     ("C-x c SPC" . helm-all-mark-rings)
	     ("C-x C-f" . helm-find-files)))
  #+END_SRC
* Install ~helm-swoop~
  Bindings from [[http://pages.sachachua.com/.emacs.d/Sacha.html#orga9c79c3][Sacha Chua]].
  #+BEGIN_SRC emacs-lisp
    (use-package helm-swoop
      :ensure t
      :bind
      (("C-S-s" . helm-swoop)
       ("M-i" .  helm-swoop)
       ("M-s s" . helm-swoop)
       ("M-s M-s" . helm-swoop)
       ("M-I" . helm-swoop-back-to-last-point)
       ("C-c M-i" . helm-multi-swoop)
       ("C-c M-I" . helm-multi-swoop-all)))
  #+END_SRC
* Install ~smart-mode-line~
  #+BEGIN_SRC emacs-lisp
    (use-package smart-mode-line
      :ensure t
      :init
      (progn
	(setq sml/no-confirm-load-theme t)
	(when (display-graphic-p)
	  (use-package smart-mode-line-powerline-theme
	    :ensure t
	    :config
	    (setq sml/theme 'powerline)))
	(sml/setup))
      :config
      (progn
	(when (display-graphic-p)
	  (use-package nyan-mode
	    :ensure t
	    :config
	    (nyan-mode 1)))))
  #+END_SRC
* Install ~company~
  From [[https://github.com/angrybacon/dotemacs/blob/master/dotemacs.org][Emacs configuration of angrybacon]].
  #+BEGIN_SRC emacs-lisp
    (use-package company
      :ensure t
      :defer 1
      :config
      (global-company-mode)
      (setq-default
       company-idle-delay .2
       company-minimum-prefix-length 1
       company-require-match nil
       company-tooltip-align-annotations t))
  #+END_SRC
* Python development
  ~lsp~ setup is from [[https://vxlabs.com/2018/06/08/python-language-server-with-emacs-and-lsp-mode/][Configuring Emacs, lsp-mode and the python language server]]. Some tricks are adapted from [[https://realpython.com/blog/python/emacs-the-best-python-editor/][Emacs - the best Python editor]].
** Install ~pyvenv~
   #+BEGIN_SRC emacs-lisp
     (use-package pyvenv
       :defer t
       :ensure t
       :config (progn
		 (add-hook 'pyvenv-post-activate-hooks 'pyvenv-restart-python)))
   #+END_SRC
** Install ~lsp~
   #+BEGIN_SRC emacs-lisp
     (unless (eq system-type 'cygwin )
       (progn
	 (use-package lsp-mode
	   :commands lsp
	   :ensure t)

	 (use-package lsp-ui
	   :ensure t
	   :commands lsp-ui-mode
	   :config
	   (setq lsp-ui-sideline-ignore-duplicate t)
	   (add-hook 'lsp-mode-hook 'lsp-ui-mode))

	 (use-package company-lsp
	   :commands company-lsp)

	 (add-hook 'python-mode-hook #'lsp)))
   #+END_SRC
** Install ~flycheck~
   #+BEGIN_SRC emacs-lisp
     (unless (eq system-type 'cygwin )
       (use-package flycheck
	 :ensure t
	 :init (global-flycheck-mode)))
   #+END_SRC
** Install ~py-autopep8~
   #+BEGIN_SRC emacs-lisp
     (use-package py-autopep8
       :ensure t
       :defer t
       :init (progn
	       (add-hook 'lsp-mode-hook 'py-autopep8-enable-on-save)
	       ;; Ignore warnings
	       ;; - E501 - Try to make lines fit within --max-line-length characters.
	       ;; - W293 - Remove trailing whitespace on blank line.
	       ;; - W391 - Remove trailing blank lines.
	       ;; - W690 - Fix various deprecated code (via lib2to3).
	       ;; https://github.com/kpurdon/.emacs.d/blob/master/development/_python.el
	       (setq py-autopep8-options '("--ignore=E501,W293,W391,W690"))))
   #+END_SRC
** Install ~RealGUD~
   [[https://github.com/realgud/realgud/][GitHub repository]].
   #+BEGIN_SRC emacs-lisp
     (use-package realgud
       :defer t
       :ensure t)
   #+END_SRC
** Install ~smartparens~
   #+BEGIN_SRC emacs-lisp
     (use-package smartparens
       :ensure t
       :defer t
       :diminish smartparens-mode
       :config
       (add-hook 'prog-mode-hook 'smartparens-mode))
   #+END_SRC
** Install ~rainbow-delimiters~ for improved readability
   #+BEGIN_SRC emacs-lisp
     (use-package rainbow-delimiters
       :ensure t
       :defer t
       :config
       (add-hook 'prog-mode-hook 'rainbow-delimiters-mode))
   #+END_SRC
** Expand parentheses
   #+BEGIN_SRC emacs-lisp
     (add-hook 'prog-mode-hook 'electric-pair-mode)
   #+END_SRC
* Install ~ace-window~
  From [[https://github.com/zamansky/using-emacs/blob/master/myinit.org#ace-windows-for-easy-window-switching][ace-window for easy window switching]]
  #+BEGIN_SRC emacs-lisp
    (use-package ace-window
      :ensure t
      :init
      (progn
	(global-set-key (kbd "C-x o") 'ace-window)
	(custom-set-faces
	 '(aw-leading-char-face
	   ((t (:inherit ace-jump-face-foreground :height 3.0)))))))
  #+END_SRC
* Markdown related packages
** Install ~markdown-mode~
   As specified in the [[http://jblevins.org/projects/markdown-mode/][documentation]].
   #+BEGIN_SRC emacs-lisp
     (use-package markdown-mode
       :ensure t
       :defer t
       :commands (markdown-mode gfm-mode)
       :mode (("README\\.md\\'" . gfm-mode)
	      ("\\.md\\'" . markdown-mode)
	      ("\\.markdown\\'" . markdown-mode))
       :init (setq markdown-command "multimarkdown"))
   #+END_SRC
** Install ~gh-md~
   #+BEGIN_SRC emacs-lisp
     (use-package gh-md
       :ensure t
       :defer t)
   #+END_SRC
* Install ~AUCTeX~
  #+BEGIN_SRC emacs-lisp
    ;; As described in https://github.com/jwiegley/use-package/issues/379
    ;; and also as found in https://www.reddit.com/r/emacs/comments/7ux1qj/using_auctex_mode_to_sync_latex_documents_and/dto2z02/
    (use-package tex-mode
      :defer t
      :ensure auctex
      :init (progn
	      (setq TeX-auto-save t)
	      (setq TeX-parse-self t)
	      (setq-default TeX-master nil)
	      (setq TeX-view-program-selection '((output-pdf "PDF Tools"))
		    TeX-source-correlate-start-server t)
	      (add-hook 'LaTeX-mode-hook 'visual-line-mode)
	      (add-hook 'LaTeX-mode-hook 'flyspell-mode)
	      (add-hook 'LaTeX-mode-hook 'LaTeX-math-mode)
	      (add-hook 'LaTeX-mode-hook 'turn-on-reftex)
	      (add-hook 'TeX-after-compilation-finished-functions #'TeX-revert-document-buffer)
	      (setq reftex-plug-into-AUCTeX t)))
  #+END_SRC
* Install ~org-ref~
  As specified in [[https://github.com/jkitchin/org-ref/blob/master/org-ref.org][org-ref manual]].
  #+BEGIN_SRC emacs-lisp
    (unless (package-installed-p 'org-ref)
      (package-install 'org-ref))

    (setq reftex-default-bibliography '("~/Dropbox/bibliography/references.bib"))
    ;; see org-ref for use of these variables
    (setq org-ref-bibliography-notes "~/Dropbox/bibliography/notes.org"
          org-ref-default-bibliography '("~/Dropbox/bibliography/references.bib")
          org-ref-pdf-directory "~/Dropbox/bibliography/bibtex-pdfs/")

    (setq bibtex-completion-bibliography "~/Dropbox/bibliography/references.bib"
          bibtex-completion-library-path "~/Dropbox/bibliography/bibtex-pdfs"
          bibtex-completion-notes-path "~/Dropbox/bibliography/helm-bibtex-notes")

    (setq org-latex-pdf-process
          '("pdflatex -interaction nonstopmode -output-directory %o %f"
            "bibtex %b"
            "pdflatex -interaction nonstopmode -output-directory %o %f"
            "pdflatex -interaction nonstopmode -output-directory %o %f"))

    (defun my/org-ref-open-pdf-at-point ()
      "Open the pdf for bibtex key under point if it exists."
      (interactive)
      (let* ((results (org-ref-get-bibtex-key-and-file))
             (key (car results))
             (pdf-file (car (bibtex-completion-find-pdf key))))
        (if (file-exists-p pdf-file)
            (org-open-file pdf-file)
          (message "No PDF found for %s" key))))

    (setq org-ref-open-pdf-function 'my/org-ref-open-pdf-at-point)

    (require 'org-ref)


  #+END_SRC
* Install ~undo-tree~
  #+BEGIN_SRC emacs-lisp
    (use-package undo-tree
      :ensure t
      :init (global-undo-tree-mode))
  #+END_SRC
* Install ~graphviz-dot-mode~
  #+BEGIN_SRC emacs-lisp
    (use-package graphviz-dot-mode
      :ensure t
      :defer t)
  #+END_SRC
* Install ~beginend~
  #+BEGIN_SRC emacs-lisp
    (when (version<= "25.3" emacs-version)
      (use-package beginend
	:ensure t
	:init (beginend-global-mode)))
  #+END_SRC
* Install ~csharp-mode~
  For some reason I get the following error when running Emacs under Ubuntu Bash for Windows: ~Error (use-package): csharp-mode/:init: Symbol's function definition is void: electric-pair-local-mode~. As a workaround disable ~electric-pair-mode~ when ~display-graphic-p~ returns ~nil~.
  #+BEGIN_SRC emacs-lisp
    (use-package csharp-mode
      :ensure t
      :defer t
      :init (when (display-graphic-p)
		(electric-pair-local-mode 1)))
  #+END_SRC
* ~org2blog~ setup
  As seen on [[https://vxlabs.com/2014/05/25/emacs-24-with-prelude-org2blog-and-wordpress/][Publish to WordPress with Emacs 24 and org2blog]]. Also [[https://github.com/org2blog/org2blog][GitHub repo]] of the project.
  #+BEGIN_SRC emacs-lisp
    (mapc #'(lambda (package)
	      (unless (package-installed-p package)
		(package-install package)))
	  '(xml-rpc metaweblog org2blog))

    (setq org-list-allow-alphabetical t)
    (require 'org2blog-autoloads)
    (require 'auth-source)

    (let (credentials)
      ;; only required if your auth file is not already in the list of auth-sources
      ;; (add-to-list 'auth-sources "~/.authinfo")
      (setq credentials (auth-source-user-and-password "repierre"))
      (setq org2blog/wp-blog-alist
	    `(("repierre"
	       :url "https://repierre.wordpress.com/xmlrpc.php"
	       :username ,(car credentials)
	       :password ,(cadr credentials)))))

    (setq org2blog/wp-use-sourcecode-shortcode 't)
    (setq org2blog/wp-sourcecode-default-params nil)
    (setq org2blog/wp-sourcecode-langs
	  '("actionscript3" "bash" "coldfusion" "cpp" "csharp" "css" "delphi"
	    "erlang" "fsharp" "diff" "groovy" "javascript" "java" "javafx" "matlab"
	    "objc" "perl" "php" "text" "powershell" "python" "ruby" "scala" "sql"
	    "vb" "xml"
	    "sh" "emacs-lisp" "lisp" "lua"))
    (setq org-src-fontify-natively t)
  #+END_SRC
* Install ~pdf-tools~
  ~use-package~ example configuring ~pdf-tools~ found [[https://github.com/abo-abo/hydra/wiki/PDF-Tools][here]].
  #+BEGIN_SRC emacs-lisp
    (use-package pdf-tools
      :ensure t
      :defer t
      :config
      (pdf-tools-install)
      (setq-default pdf-view-display-size 'fit-page)
      (use-package org-pdfview
	:ensure t))
  #+END_SRC
* Install ~csv-mode~
  #+BEGIN_SRC emacs-lisp
    (use-package csv-mode
      :ensure t
      :defer t
      :init
      (add-hook 'csv-mode-hook 'display-line-numbers))
  #+END_SRC
* Install ~projectile~
  #+BEGIN_SRC emacs-lisp
    (unless (eq system-type 'cygwin)
      (use-package projectile
	:ensure t
	:defer t
	:bind-keymap
	("C-c p" . projectile-command-map)
	:init
	(add-hook 'magit-mode-hook 'projectile-mode)
	:config
	(progn
	  (setq projectile-completion-system 'helm)
	  (use-package helm-projectile
	    :ensure t
	    :config (helm-projectile-on)))))
  #+END_SRC
* Install ~neotree~
  #+BEGIN_SRC emacs-lisp
    (use-package neotree
      :ensure t
      :defer t
      :config
      (global-set-key (kbd "C-c t") 'neotree-toggle)
      (setq neo-smart-open t)
      (setq neo-theme 'arrow))
  #+END_SRC
* Install ~powershell~
  #+BEGIN_SRC emacs-lisp
    (use-package powershell
      :ensure t
      :defer t)
  #+END_SRC
* Install ~ein~
** Install [[https://github.com/tkf/emacs-ipython-notebook#requirements][prerequisites]]
   #+BEGIN_SRC shell
     sudo apt-get install ipython ipython3 jupyter
   #+END_SRC
** Install ~ein~ package
   #+BEGIN_SRC emacs-lisp
     (use-package ein
       :ensure t
       :defer t)
   #+END_SRC
* Install ~ledger-mode~
** Prerequisites
   Requires ~ledger~ to be installed:
   #+BEGIN_SRC shell
     sudo apt-get install ledger
   #+END_SRC
** Setup ~ledger-mode~
   #+BEGIN_SRC emacs-lisp
     (use-package ledger-mode
       :ensure t
       :config (progn
		 (setq ledger-reconcile-default-commodity "RON")
		 (setq ledger-schedule-file "~/Dropbox/org/financial/ledger-schedule.ledger")))
   #+END_SRC
* Install ~which-key~
  #+BEGIN_SRC emacs-lisp
    (use-package which-key
      :ensure t
      :config
      (which-key-mode))
  #+END_SRC
* Read Web feeds using ~elfeed~
  Based on [[https://cestlaz.github.io/posts/using-emacs-29-elfeed/][blog post of Mike Zamansky]].
  #+BEGIN_SRC emacs-lisp
    (setq elfeed-db-directory "~/Dropbox/elfeed-db")

    (defun elfeed-mark-all-as-read ()
      (interactive)
      (mark-whole-buffer)
      (elfeed-search-untag-all-unread))

    (defun elfeed-load-db-and-open ()
      "Wrapper to load the elfeed database from disk before opening."
      (interactive)
      (elfeed-db-load)
      (elfeed)
      (elfeed-search-update--force))

    (defun elfeed-save-db-and-bury ()
      "Wrapper to save the elfeed database to disk before burying buffer."
      (interactive)
      (elfeed-db-save)
      (quit-window))

    (use-package elfeed
      :ensure t
      :bind (:map elfeed-search-mode-map
		  ("q" . elfeed-save-db-and-bury)
		  ("A" . elfeed-mark-all-as-read)))

    (use-package elfeed-goodies
      :ensure t
      :config
      (elfeed-goodies/setup))

    (use-package elfeed-org
      :ensure t
      :config
      (elfeed-org)
      (setq rmh-elfeed-org-files (list "~/Dropbox/org/elfeed.org")))
  #+END_SRC
* Install ~try~ package
  #+BEGIN_SRC emacs-lisp
  (use-package try
    :ensure t)
  #+END_SRC
